#!/bin/bash

SINK="1"

case "$1" in
"up")
    echo "$0: Upping volume!" >&2
    pactl set-sink-mute "$SINK" false
    pactl set-sink-volume "$SINK" '+5%'
    ;;
"down")
    echo "$0: Downing volume!" >&2
    pactl set-sink-mute "$SINK" false
    pactl set-sink-volume "$SINK" '-5%'
    ;;
"toggle")
    echo "$0: Toggling mute" >&2
    pactl set-sink-mute "$SINK" toggle
    ;;
"get")
    pactl list sinks | grep '^[[:space:]]*Volume' |
        head -n $(( $SINK + 1 )) | tail -n 1 |
        sed 's/^.* \([0-9][0-9]*\)%.*$/\1/'
    ;;
"set")
    if [[ -n "$2" ]]; then
        pactl set-sink-volume "$SINK" "$2%"
    else
        echo "Usage: $0 set <percent>"
    fi
esac
